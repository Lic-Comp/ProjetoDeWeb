<!DOCTYPE html>
<html>
<head>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="cadastro.component.css">
</head>
<body>
  <div class="container">
    <h2>Cadastrar Novo Produto</h2>
    <div class="form">
      <form [formGroup]="formProduct" (ngSubmit)="saveProduto()">
        <mat-form-field class="example-form-field">
          <mat-label>Nome do Produto</mat-label>
          <input formControlName="nome" matInput type="text">
        </mat-form-field>

        <mat-form-field class="example-form-field">
          <mat-label>Quantidade</mat-label>
          <input formControlName="qtde" matInput type="number">
        </mat-form-field>

        <mat-form-field class="example-form-field">
          <mat-label>Preço</mat-label>
          <input formControlName="preco" matInput type="text">
        </mat-form-field>
        <button mat-flat-button color="primary" type="submit">Salvar</button>
      </form>
    </div>

    <div class="list">
      <table>
        <thead>
          <tr>
            <th>Nome do Produto</th>
            <th>Quantidade</th>
            <th>Valor</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let p of crud.lista | async">
            <td>{{ p.nome }}</td>
            <td>{{ p.qtde }}</td>
            <td>R$ {{ p.preco }}</td>
            <td>
              <button mat-icon-button (click)="edit(p)">
                <mat-icon>edit</mat-icon>
              </button>
              <button mat-icon-button (click)="deleteProduct(p.id)">
                <mat-icon>delete</mat-icon>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>
